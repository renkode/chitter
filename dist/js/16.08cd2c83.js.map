{"version":3,"file":"js/16.08cd2c83.js","mappings":"gUAUA,MAAMA,GAAMC,EAAAA,EAAAA,KACNC,GAASC,EAAAA,EAAAA,KACTC,GAAQC,EAAAA,EAAAA,KACRC,GAAcC,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,QAAQR,EAAIS,aAC/CC,GAAcH,EAAAA,EAAAA,KAAS,IAC3BD,EAAYK,MAAMC,cAAcC,KAAKC,IACnC,GAAIZ,EAAOa,SAASD,EAAWE,IAAK,CAClC,MAAMC,EAAQf,EAAOa,SAASD,EAAWE,IACzC,MAAO,CACLE,KAAMD,EACNE,KAAML,EAAWK,KACjBC,YACsB,YAApBN,EAAWK,KACPf,EAAMI,QAAQM,EAAWM,aAAaC,KACtC,KAET,OAILC,eAAeC,EAAMC,SACb,IAAIC,SAASC,IACjBC,YAAW,QAERH,EAFH,GAIH,C,OAEDI,EAAAA,EAAAA,KAAU,KACRL,EAAM,EAAN,I,kLCpCF,MAAMM,EAAc,EAEpB,O","sources":["webpack://chitter/./src/components/LocalTimeline.vue","webpack://chitter/./src/components/LocalTimeline.vue?5a0f"],"sourcesContent":["<script setup>\r\nimport { onMounted, computed } from \"vue\";\r\nimport { useAppStore } from \"@/stores/app.js\";\r\nimport { useTweetStore } from \"@/stores/tweets.js\";\r\nimport { useUsersStore } from \"@/stores/users.js\";\r\nimport TweetList from \"./lists/TweetList.vue\";\r\nimport ComposeTweet from \"./subcomponents/ComposeTweet.vue\";\r\nimport db from \"../firebase.js\";\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\n\r\nconst app = useAppStore();\r\nconst tweets = useTweetStore();\r\nconst users = useUsersStore();\r\nconst currentUser = computed(() => users.getUser(app.currentId));\r\nconst localTweets = computed(() =>\r\n  currentUser.value.localTimeline.map((localTweet) => {\r\n    if (tweets.getTweet(localTweet.id)) {\r\n      const tweet = tweets.getTweet(localTweet.id);\r\n      return {\r\n        data: tweet,\r\n        type: localTweet.type,\r\n        retweetedBy:\r\n          localTweet.type === \"retweet\"\r\n            ? users.getUser(localTweet.retweetedBy).name\r\n            : null,\r\n      };\r\n    }\r\n  })\r\n);\r\n\r\nasync function delay(time) {\r\n  await new Promise((res) => {\r\n    setTimeout(() => {\r\n      //console.log(res);\r\n    }, time);\r\n  });\r\n}\r\n\r\nonMounted(() => {\r\n  delay(0);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <ComposeTweet />\r\n    <div class=\"tweet-list-container\">\r\n      <TweetList v-if=\"currentUser\" :tweets=\"localTweets\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style></style>\r\n","import script from \"./LocalTimeline.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LocalTimeline.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["app","useAppStore","tweets","useTweetStore","users","useUsersStore","currentUser","computed","getUser","currentId","localTweets","value","localTimeline","map","localTweet","getTweet","id","tweet","data","type","retweetedBy","name","async","delay","time","Promise","res","setTimeout","onMounted","__exports__"],"sourceRoot":""}