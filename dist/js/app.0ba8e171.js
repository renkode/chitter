(function(){var e={2239:function(e,t,a){"use strict";a.d(t,{EA:function(){return u},I8:function(){return d},db:function(){return c},tO:function(){return m}});var n=a(4275),r=a(6035),s=a(6816),l=a(1992);const i={apiKey:"AIzaSyD6efB2gVxJok3DM0tgxjUkK8VWPquFqdA",authDomain:"chitter-f923a.firebaseapp.com",projectId:"chitter-f923a",storageBucket:"chitter-f923a.appspot.com",messagingSenderId:"348242830403",appId:"1:348242830403:web:8dfacbe7d847ad5c2820f6"},o=(0,n.ZF)(i),u=()=>new Promise(((e,t)=>{const a=(0,s.Aj)(d,(t=>{a(),e(t)}),t)})),c=(0,r.ad)(),d=(0,s.v0)();(0,s.Fb)(d,s.a$);const m=(0,l.cF)(o)},5001:function(e,t,a){"use strict";var n=a(9242),r=a(2578),s=a(1922),l=a(1120),i=a(3396),o=a(4870),u=a(7139),c=a(9327),d=a(988),m=a(8341);const p=e=>((0,i.dD)("data-v-17a648f2"),e=e(),(0,i.Cn)(),e),v={class:"nav-sidebar"},w={class:"nav-item"},h={class:"nav-icon"},f={class:"nav-item"},g={class:"nav-icon"},y=p((()=>(0,i._)("span",{class:"nav-label"},"Home",-1))),U={class:"nav-item"},b={class:"nav-icon stroke"},_=p((()=>(0,i._)("span",{class:"nav-label"},"Explore",-1))),T={class:"nav-item"},k={class:"nav-icon notif-icon"},S={key:0,class:"notification-dot"},I=p((()=>(0,i._)("span",{class:"nav-label"},"Notifications",-1))),x={class:"nav-item"},F={class:"nav-icon"},C=p((()=>(0,i._)("span",{class:"nav-label"},"Profile",-1))),D={class:"new-tweet-btn-feather"},M=p((()=>(0,i._)("span",{class:"new-tweet-btn-label"},"Tweet",-1))),L=["onClick"],H={class:"user-info-and-btn"},P={class:"user-info-wrapper"},A={class:"display-name"},W={class:"username gray-text"},E={class:"tweet-action-icon extra-btn"},q={key:0,class:"overlay"},Z={key:1,class:"tweet-menu-container"},N={class:"tweet-menu-list"};var j={__name:"MenuSidebar",setup(e){const t=(0,d.U)(),a=(0,c.q)(),r=(0,o.iH)(!1),s=(0,i.Fl)((()=>t.notifications.new.length)),l=()=>{r.value=!r.value};return(e,c)=>{const d=(0,i.up)("v-icon"),p=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("nav",null,[(0,i._)("ul",null,[(0,i.Wm)(p,{to:"/home",class:"nav-logo"},{default:(0,i.w5)((()=>[(0,i._)("li",w,[(0,i._)("span",h,[(0,i.Wm)(d,{name:"bi-twitter",scale:"2.0",fill:"white"})])])])),_:1}),(0,o.SU)(t).currentUser?((0,i.wg)(),(0,i.j4)(p,{key:0,to:"/home"},{default:(0,i.w5)((()=>[(0,i._)("li",f,[(0,i._)("span",g,[(0,i.Wm)(d,{name:"gi-bird-house",scale:"2.0",fill:"#ffffff80"})]),y])])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(p,{to:"/explore"},{default:(0,i.w5)((()=>[(0,i._)("li",U,[(0,i._)("span",b,[(0,i.Wm)(d,{name:"hi-hashtag",scale:"1.6",fill:"#ffffff80"})]),_])])),_:1}),(0,o.SU)(t).currentUser?((0,i.wg)(),(0,i.j4)(p,{key:1,to:"/notifications"},{default:(0,i.w5)((()=>[(0,i._)("li",T,[(0,i._)("span",k,[(0,i.Wm)(d,{name:"bi-bell",scale:"1.7",fill:"#ffffff80"}),(0,o.SU)(t).currentUser&&(0,o.SU)(s)>0?((0,i.wg)(),(0,i.iD)("div",S,(0,u.zw)((0,o.SU)(s)),1)):(0,i.kq)("",!0)]),I])])),_:1})):(0,i.kq)("",!0),(0,o.SU)(t).currentUser?((0,i.wg)(),(0,i.j4)(p,{key:2,to:{name:"Profile",params:{username:(0,o.SU)(t).currentUser.username}}},{default:(0,i.w5)((()=>[(0,i._)("li",x,[(0,i._)("span",F,[(0,i.Wm)(d,{name:"bi-person",scale:"2.0",fill:"#ffffff80"})]),C])])),_:1},8,["to"])):(0,i.kq)("",!0)]),(0,i._)("button",{class:"new-tweet-btn",onClick:c[0]||(c[0]=e=>(0,o.SU)(a).toggleModal("status"))},[(0,i._)("span",D,[(0,i.Wm)(d,{name:"gi-feather",scale:"1.8"})]),M]),(0,o.SU)(t).currentUser?((0,i.wg)(),(0,i.iD)("li",{key:0,class:"nav-user",onClick:(0,n.iM)(l,["stop"])},[(0,i._)("div",H,[(0,i.Wm)(m.Z,{url:(0,o.SU)(t).currentUser.avatarUrl,size:40},null,8,["url"]),(0,i._)("div",P,[(0,i._)("span",A,(0,u.zw)((0,o.SU)(t).currentUser.name),1),(0,i._)("span",W,"@"+(0,u.zw)((0,o.SU)(t).currentUser.username),1)])]),(0,i._)("span",E,[(0,i.Wm)(d,{name:"hi-dots-horizontal",scale:"1.0",fill:"#ffffff80"})]),r.value?((0,i.wg)(),(0,i.iD)("div",q)):(0,i.kq)("",!0),r.value?((0,i.wg)(),(0,i.iD)("div",Z,[(0,i._)("ul",N,[(0,i._)("li",{class:"tweet-menu-item",onClick:c[1]||(c[1]=(...e)=>(0,o.SU)(a).logOut&&(0,o.SU)(a).logOut(...e))}," Log out @"+(0,u.zw)((0,o.SU)(t).currentUser.username),1)])])):(0,i.kq)("",!0)],8,L)):(0,i.kq)("",!0)])])}}},z=a(89);const V=(0,z.Z)(j,[["__scopeId","data-v-17a648f2"]]);var R=V,O=a(248);const J=e=>((0,i.dD)("data-v-561b31c2"),e=e(),(0,i.Cn)(),e),Y={class:"media-sidebar"},B={class:"media-wrapper"},$={class:"search-tweet"},K={class:"search-icon"},Q=J((()=>(0,i._)("input",{type:"search",placeholder:"Search Chitter"},null,-1))),G={key:0,class:"media-container"},X=J((()=>(0,i._)("div",{class:"media-header"},"New to Chitter?",-1))),ee={class:"media-body"},te=J((()=>(0,i._)("div",{class:"gray-text"}," Sign up now to get your own personalized timeline! ",-1))),ae=J((()=>(0,i._)("span",null,"Sign up with email",-1))),ne=[ae],re=J((()=>(0,i._)("div",{class:"gray-text"},[(0,i.Uk)(" By signing up, you agree to the "),(0,i._)("a",{class:"blue-link"},"Terms of Service"),(0,i.Uk)(" and "),(0,i._)("a",{class:"blue-link"},"Privacy Policy"),(0,i.Uk)(", including "),(0,i._)("a",{class:"blue-link"},"Cookie Use"),(0,i.Uk)(". ")],-1))),se=(0,i.uE)('<div class="media-container" data-v-561b31c2><div class="media-header" data-v-561b31c2>What&#39;s happening</div><div class="trend-container" data-v-561b31c2><div class="trend-info" data-v-561b31c2><span class="trend-type" data-v-561b31c2>World news</span><span class="trend-headline" data-v-561b31c2>Lorem ipsum generator leaves 2 killed, 8 injured</span><span class="trend-tweets" data-v-561b31c2>56,182 Tweets</span></div><div class="trend-media" data-v-561b31c2></div></div><div class="trend-container" data-v-561b31c2><div class="trend-info" data-v-561b31c2><span class="trend-type" data-v-561b31c2>Video games</span><span class="trend-headline" data-v-561b31c2>HE&#39;S UGLY</span><span class="trend-tweets" data-v-561b31c2>32,478 Tweets</span></div></div><div class="trend-container" data-v-561b31c2><div class="trend-info" data-v-561b31c2><span class="trend-type" data-v-561b31c2>Technology</span><span class="trend-headline" data-v-561b31c2>#RIPTwitter</span><span class="trend-tweets" data-v-561b31c2>20,115 Tweets</span></div></div><div class="trend-container" data-v-561b31c2><div class="trend-info" data-v-561b31c2><span class="trend-type" data-v-561b31c2>Trending in Vatican City</span><span class="trend-headline" data-v-561b31c2>#sanssweep</span><span class="trend-tweets" data-v-561b31c2>4,200 Tweets</span></div></div></div>',1),le={key:1,class:"media-container"},ie=J((()=>(0,i._)("div",{class:"media-header"},"Who to Follow",-1)));var oe={__name:"MediaSidebar",setup(e){const t=(0,c.q)(),a=(0,d.U)(),n=(0,o.iH)(null);return(0,i.bv)((async()=>{n.value=await a.getUserByUsername("renkode")})),(e,r)=>{const s=(0,i.up)("v-icon");return(0,i.wg)(),(0,i.iD)("div",Y,[(0,i._)("div",B,[(0,i._)("div",$,[(0,i._)("span",K,[(0,i.Wm)(s,{name:"hi-search",fill:"#ffffffd5",scale:"1.3"})]),Q]),(0,o.SU)(a).currentUser?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",G,[X,(0,i._)("div",ee,[te,(0,i._)("button",{class:"sign-up-btn",onClick:r[0]||(r[0]=e=>(0,o.SU)(t).toggleModal("signup"))},ne),re])])),se,(0,o.SU)(a).currentUser?((0,i.wg)(),(0,i.iD)("div",le,[ie,n.value?((0,i.wg)(),(0,i.j4)(O.Z,{key:0,id:n.value.id,name:n.value.name,username:n.value.username,avatarUrl:n.value.avatarUrl,isSimple:!0},null,8,["id","name","username","avatarUrl"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])}}};const ue=(0,z.Z)(oe,[["__scopeId","data-v-561b31c2"]]);var ce=ue;const de={class:"page-header"},me={class:"header-wrapper"},pe={key:0,class:"profile-wrapper"},ve={key:0,class:"user-info-wrapper"},we={class:"display-name"},he={class:"total-tweet-count gray-text"},fe={key:1,style:{"text-transform":"capitalize"}},ge={key:1,style:{"text-transform":"capitalize"}};var ye={__name:"HeaderSC",async setup(e){let t,a;const n=(0,c.q)(),r=(0,d.U)(),s=(0,i.Fl)((()=>r.currentUser)),m=(0,o.iH)(r.currentUser&&n.routeUsername===r.currentUser.username?s.value:([t,a]=(0,i.mv)((()=>r.getUserByUsername(n.routeUsername))),t=await t,a(),t)),p=(0,i.Fl)((()=>{const e=["Tweet","Profile","Notifications","Followers","Following"];return e.includes(n.routeName)}));return(0,i.YP)((()=>n.routeUsername),(async()=>{m.value=r.currentUser&&n.routeUsername===r.currentUser.username?r.currentUser:await r.getUserByUsername(n.routeUsername)})),(0,i.YP)(s,(()=>{m.value=s.value})),(e,t)=>{const a=(0,i.up)("v-icon");return(0,i.wg)(),(0,i.iD)("div",de,[(0,i._)("span",me,[(0,o.SU)(p)?((0,i.wg)(),(0,i.iD)("span",pe,[(0,i._)("span",{class:"back-arrow-btn",onClick:t[0]||(t[0]=e=>(0,o.SU)(l.Z).back())},[(0,i.Wm)(a,{name:"md-arrowback",scale:"1.1",fill:"#ffffff80"})]),m.value&&"Tweet"!==(0,o.SU)(n).routeName&&"Notifications"!==(0,o.SU)(n).routeName?((0,i.wg)(),(0,i.iD)("div",ve,[(0,i._)("span",we,(0,u.zw)(m.value.name),1),(0,i._)("span",he,(0,u.zw)(m.value.tweetCount)+" Tweets",1)])):((0,i.wg)(),(0,i.iD)("span",fe,(0,u.zw)((0,o.SU)(n).routeName),1))])):((0,i.wg)(),(0,i.iD)("span",ge,(0,u.zw)((0,o.SU)(n).routeName),1))])])}}};const Ue=(0,z.Z)(ye,[["__scopeId","data-v-8697b610"]]);var be=Ue;const _e={class:"page-header"};function Te(e,t){return(0,i.wg)(),(0,i.iD)("div",_e)}const ke={},Se=(0,z.Z)(ke,[["render",Te],["__scopeId","data-v-86d243f8"]]);var Ie=Se;const xe=e=>((0,i.dD)("data-v-bedf94ae"),e=e(),(0,i.Cn)(),e),Fe={class:"banner-wrapper"},Ce={class:"container"},De=xe((()=>(0,i._)("div",{class:"text-wrapper"},[(0,i._)("div",{class:"header-text"},"Don't miss what's happening"),(0,i._)("div",null,"People on Chitter are the first to know.")],-1))),Me={class:"button-wrapper"};var Le={__name:"SignUpBanner",setup(e){const t=(0,c.q)();return(e,a)=>((0,i.wg)(),(0,i.iD)("div",Fe,[(0,i._)("div",Ce,[De,(0,i._)("div",Me,[(0,i._)("button",{class:"login-btn",onClick:a[0]||(a[0]=e=>(0,o.SU)(t).toggleModal("login"))}," Log in"),(0,i._)("button",{class:"signup-btn",onClick:a[1]||(a[1]=e=>(0,o.SU)(t).toggleModal("signup"))}," Sign up ")])])]))}};const He=(0,z.Z)(Le,[["__scopeId","data-v-bedf94ae"]]);var Pe=He,Ae=a(3282),We=a(1319);const Ee={class:"modal-header"},qe={class:"header-item-wrapper"},Ze={class:"header-text"};var Ne={__name:"ModalHeader",props:["text"],setup(e){const t=e,a=(0,c.q)();return(e,n)=>{const r=(0,i.up)("v-icon");return(0,i.wg)(),(0,i.iD)("div",Ee,[(0,i._)("span",qe,[(0,i._)("span",{class:"exit-modal-btn",onClick:n[0]||(n[0]=e=>(0,o.SU)(a).toggleModal())},[(0,i.Wm)(r,{name:"bi-x",scale:"1.6",fill:"white"})]),(0,i._)("span",Ze,[(0,i._)("strong",null,(0,u.zw)(t.text),1)])]),(0,i.WI)(e.$slots,"default")])}}};const je=(0,z.Z)(Ne,[["__scopeId","data-v-4008de4c"]]);var ze=je;const Ve={class:"validation-wrapper"},Re=["id","value","placeholder","minLength","maxlength","rows"],Oe=["id","type","value","placeholder","minLength","maxlength"],Je={class:"label-wrapper"},Ye=["for"],Be={key:0,class:"text-limit gray-text"};var $e={__name:"InputComponent",props:{inputValue:String,type:String,name:String,label:String,placeholder:String,validation:Array,isTextArea:Boolean,startsBlank:Boolean,minLength:[String,Number],maxLength:[String,Number],rows:String},setup(e){const t=e,a=(0,o.iH)(null),n=(0,o.iH)(!!t.startsBlank),r=(0,i.Fl)((()=>t.validation.map((e=>e.hasError)))),s=e=>{e.currentTarget.nextElementSibling.querySelector("label").classList.contains("red-text")||(e.currentTarget.nextElementSibling.querySelector("label").classList.toggle("gray-text"),e.currentTarget.nextElementSibling.querySelector("label").classList.toggle("blue-text"),e.currentTarget.closest(".input-wrapper").classList.toggle("blue-border")),t.maxLength&&e.currentTarget.nextElementSibling.querySelector(".text-limit").classList.toggle("show")};return(0,i.YP)((()=>t.inputValue),(()=>{n.value&&(n.value=!1)})),(0,i.YP)([r,n],(()=>{r.value&&0===r.value.length||n.value||(r.value.some((e=>e))?(a.value.className="input-wrapper red-border",a.value.querySelector("label").className="red-text"):document.activeElement===document.querySelector(`#${t.name}`)&&(a.value.className="input-wrapper blue-border",a.value.querySelector("label").className="blue-text"))})),(r,l)=>((0,i.wg)(),(0,i.iD)("div",Ve,[(0,i._)("div",{class:"input-wrapper",ref_key:"wrapperRef",ref:a},[e.isTextArea?((0,i.wg)(),(0,i.iD)("textarea",{key:0,id:t.name,type:"text",value:e.inputValue,placeholder:t.placeholder,onInput:l[0]||(l[0]=e=>r.$emit("update:inputValue",e.target.value)),onFocusin:s,onFocusout:s,minLength:t.minLength,maxlength:t.maxLength,rows:t.rows},null,40,Re)):((0,i.wg)(),(0,i.iD)("input",{key:1,id:t.name,type:t.type?t.type:"text",value:e.inputValue,placeholder:t.placeholder,onInput:l[1]||(l[1]=e=>r.$emit("update:inputValue",e.target.value)),onFocusin:s,onFocusout:s,minLength:t.minLength,maxlength:t.maxLength},null,40,Oe)),(0,i._)("span",Je,[(0,i._)("label",{class:"gray-text",for:t.name},(0,u.zw)(t.label),9,Ye),t.maxLength?((0,i.wg)(),(0,i.iD)("span",Be,(0,u.zw)(e.inputValue.length)+" / "+(0,u.zw)(t.maxLength),1)):(0,i.kq)("",!0)])],512),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.validation,((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[e.hasError&&!n.value?((0,i.wg)(),(0,i.iD)("span",{key:t,class:"error-input red-text"},(0,u.zw)(e.errorText),1)):(0,i.kq)("",!0)],64)))),256))]))}};const Ke=(0,z.Z)($e,[["__scopeId","data-v-36f656da"]]);var Qe=Ke,Ge=a(9707),Xe=a(5514),et=a.n(Xe);const tt=e=>((0,i.dD)("data-v-51d6e75d"),e=e(),(0,i.Cn)(),e),at={class:"modal-wrapper"},nt=["disabled","onClick"],rt={class:"header-wrapper"},st={class:"image-actions"},lt={class:"set-image-btn"},it={for:"upload-header"},ot={class:"modal-content"},ut={class:"avatar-wrapper"},ct={class:"image-actions"},dt={class:"set-image-btn"},mt={for:"upload-avatar"},pt={id:"edit-profile-form",class:"modal-form"},vt={class:"name-and-username"},wt={class:"birthday-wrapper"},ht=tt((()=>(0,i._)("span",{class:"birthday-label gray-text"},"Birth date",-1))),ft={class:"birthday-input-wrapper"};var gt={__name:"ProfileModal",setup(e){const t=(0,c.q)(),a=(0,d.U)(),r=(0,o.iH)(null),s=(0,o.iH)(a.currentUser.headerUrl),l=(0,o.iH)(null),u=(0,o.iH)(a.currentUser.avatarUrl),p=(0,o.iH)(a.currentUser.name),v=(0,o.iH)(a.currentUser.username),w=(0,o.iH)(a.currentUser.description),h=(0,o.iH)(a.currentUser.location),f=(0,o.iH)(a.currentUser.website),g=(0,o.iH)(null),y=(0,o.iH)(null),U=(0,i.Fl)((()=>0===p.value.length)),b=3,_=(0,i.Fl)((()=>v.value.length>=b)),T=(0,i.Fl)((()=>Ge.Fh.test(v.value))),k=(0,o.iH)(!1),S=(0,i.Fl)((()=>!_.value||!T.value||k.value)),I=new RegExp(/^((https?|ftp|smtp):\/\/)?(www.)?[a-z0-9]+\.[a-z]+(\/[a-zA-Z0-9#]+\/?)*$/i),x=(0,i.Fl)((()=>I.test(f.value))),F=(0,i.Fl)((()=>!x.value&&f.value.length>0)),C=(0,i.Fl)((()=>U.value||S.value||F.value)),D=e=>{l.value=e.currentTarget.files[0],u.value=URL.createObjectURL(e.currentTarget.files[0])},M=e=>{r.value=e.currentTarget.files[0],s.value=URL.createObjectURL(e.currentTarget.files[0])},L=()=>{r.value=null,s.value=""},H=()=>{Ge.YN.forEach((e=>{var t=document.createElement("option");a.currentUser.birthday.split(" ")[0]===e.month&&(t.selected=!0),t.value=e.month,t.textContent=e.month,g.value.appendChild(t)}))},P=()=>{if(y.value.innerHTML="",""===g.value.value)return;const e=Ge.YN.filter((e=>e.month===g.value.value))[0].days,[t,n]=a.currentUser.birthday.split(" ");for(let a=1;a<=e;a++){var r=document.createElement("option");t===g.value.value&&n==a&&(r.selected=!0),r.value=a,r.textContent=a,y.value.appendChild(r)}},A=()=>{const e=`${g.value.value} ${y.value.value}`;a.updateProfile(a.currentId,p.value,v.value,et()(w.value,{allowedTags:[],allowedAttributes:{},disallowedTagsMode:"recursiveEscape"}),h.value,f.value,e,l.value,r.value),t.toggleModal(),t.viewUserProfile(a.currentUser.username)};return(0,i.YP)(v,(async()=>{0!==v.value.length&&(k.value=await a.isUsernameTaken(v.value))})),(0,i.bv)((()=>{H(),P()})),(e,t)=>{const a=(0,i.up)("v-icon");return(0,i.wg)(),(0,i.iD)("div",at,[(0,i.Wm)(ze,{text:"Edit Profile"},{default:(0,i.w5)((()=>[(0,i._)("button",{class:"save-btn",type:"submit",form:"edit-profile-form",disabled:(0,o.SU)(C),onClick:(0,n.iM)(A,["prevent"])}," Save ",8,nt)])),_:1}),(0,i._)("div",rt,[(0,i.Wm)(We.Z,{url:s.value},null,8,["url"]),(0,i._)("span",st,[(0,i._)("span",lt,[(0,i._)("input",{id:"upload-header",type:"file",accept:"image/png, image/gif, image/jpeg",onChange:M,hidden:""},null,32),(0,i._)("label",it,[(0,i.Wm)(a,{name:"md-addaphoto-outlined",scale:"1.0",fill:"white"})])]),(0,i._)("span",{class:"clear-header-btn",onClick:L},[(0,i.Wm)(a,{name:"bi-x",scale:"1.6",fill:"white"})])])]),(0,i._)("div",ot,[(0,i._)("div",ut,[(0,i.Wm)(m.Z,{url:u.value,size:112},{default:(0,i.w5)((()=>[(0,i._)("span",ct,[(0,i._)("span",dt,[(0,i._)("input",{id:"upload-avatar",type:"file",accept:"image/png, image/gif, image/jpeg",onChange:D,hidden:""},null,32),(0,i._)("label",mt,[(0,i.Wm)(a,{name:"md-addaphoto-outlined",scale:"1.0",fill:"white"})])])])])),_:1},8,["url"])]),(0,i._)("form",pt,[(0,i._)("div",vt,[(0,i.Wm)(Qe,{inputValue:p.value,"onUpdate:inputValue":t[0]||(t[0]=e=>p.value=e),name:"nameInput",label:"Name",validation:[{errorText:"Name can't be blank",hasError:(0,o.SU)(U)}],minLength:"1",maxLength:"50"},null,8,["inputValue","validation"]),(0,i.Wm)(Qe,{inputValue:v.value,"onUpdate:inputValue":t[1]||(t[1]=e=>v.value=e),name:"usernameInput",label:"Username",validation:[{errorText:`Username must be at least\n              ${b} characters.`,hasError:!(0,o.SU)(_)},{errorText:"Username can't contain special characters.",hasError:!(0,o.SU)(T)},{errorText:"Username is taken.",hasError:k.value}],minLength:b,maxLength:"15",onKeydown:t[2]||(t[2]=(0,n.D2)((0,n.iM)((()=>{}),["prevent"]),["space"]))},null,8,["inputValue","validation"])]),(0,i.Wm)(Qe,{inputValue:w.value,"onUpdate:inputValue":t[3]||(t[3]=e=>w.value=e),isTextArea:!0,name:"bioInput",label:"Bio",validation:[],maxLength:"160",rows:"3",onKeydown:t[4]||(t[4]=(0,n.D2)((0,n.iM)((()=>{}),["prevent"]),["enter"]))},null,8,["inputValue"]),(0,i.Wm)(Qe,{inputValue:h.value,"onUpdate:inputValue":t[5]||(t[5]=e=>h.value=e),name:"locationInput",label:"Location",validation:[],maxLength:"30"},null,8,["inputValue"]),(0,i.Wm)(Qe,{inputValue:f.value,"onUpdate:inputValue":t[6]||(t[6]=e=>f.value=e),name:"websiteInput",label:"Website",validation:[{errorText:"URL is not valid.",hasError:(0,o.SU)(F)}],maxLength:"50"},null,8,["inputValue","validation"]),(0,i._)("div",wt,[ht,(0,i._)("span",ft,[(0,i._)("select",{id:"month",name:"month",ref_key:"monthInput",ref:g,onChange:P},null,544),(0,i._)("select",{id:"day",name:"day",ref_key:"dayInput",ref:y},null,512)])])])])])}}};const yt=(0,z.Z)(gt,[["__scopeId","data-v-51d6e75d"]]);var Ut=yt,bt=a(1555),_t=a(7925),Tt={__name:"UserListModal",async setup(e){let t,a;const n=(0,c.q)(),r=(0,_t.g)(),s=(0,d.U)(),l=(0,i.Fl)((()=>"retweet-list"===n.modalType?"Retweeted by":"like-list"===n.modalType?"Liked by":"")),u=(0,o.iH)(([t,a]=(0,i.mv)((()=>r.getTweet(n.routeTweetId))),t=await t,a(),t)),m=(0,o.iH)(([t,a]=(0,i.mv)((()=>p())),t=await t,a(),t));async function p(){return u.value&&"retweet-list"===n.modalType?Promise.all(u.value.retweetsFrom.map((e=>s.getUser(e)))):"like-list"===n.modalType?Promise.all(u.value.likesFrom.map((e=>s.getUser(e)))):null}return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(ze,{text:(0,o.SU)(l)},null,8,["text"]),m.value?((0,i.wg)(),(0,i.j4)(bt.Z,{key:0,users:m.value},null,8,["users"])):(0,i.kq)("",!0)],64))}};const kt=Tt;var St=kt,It=a(5280),xt=a(5743),Ft=a.n(xt),Ct=a(1172);const Dt=e=>((0,i.dD)("data-v-4f11c759"),e=e(),(0,i.Cn)(),e),Mt={class:"tweet-container"},Lt={class:"tweet-body"},Ht={class:"profile-pic-container"},Pt=Dt((()=>(0,i._)("div",{class:"gray-line"},null,-1))),At={class:"tweet-data"},Wt={class:"user-info-and-btn"},Et={class:"user-info-wrapper"},qt={class:"display-name"},Zt={class:"username gray-text"},Nt=Dt((()=>(0,i._)("span",{class:"separator gray-text"},"Â·",-1))),jt={class:"tweet-time gray-text"},zt={class:"tweet-content"};var Vt={__name:"TweetCardSimple",props:{user:Object,tweet:Object},setup(e){const t=e;var n=a(893);Ft().extend(n);let r=null;const s=(0,o.iH)(Ft()().toISOString()),l=(0,o.iH)(Ct.Z.formatTweetDate(t.tweet.timestamp,s.value));return(0,i.bv)((()=>{Ft()(s.value).diff(Ft()(t.tweet.timestamp),"hour")>23||(r=setInterval((()=>{l.value!==Ct.Z.formatTweetDate(t.tweet.timestamp,s.value)&&(l.value=Ct.Z.formatTweetDate(t.tweet.timestamp,s.value))}),3e4))})),(0,i.Jd)((()=>{clearInterval(r)})),(e,a)=>((0,i.wg)(),(0,i.iD)("div",Mt,[(0,i._)("div",Lt,[(0,i._)("div",Ht,[(0,i.Wm)(m.Z,{url:t.user.avatarUrl,size:48},null,8,["url"]),Pt]),(0,i._)("div",At,[(0,i._)("div",Wt,[(0,i._)("div",Et,[(0,i._)("span",qt,(0,u.zw)(t.user.name),1),(0,i._)("span",Zt,"@"+(0,u.zw)(t.user.username),1),Nt,(0,i._)("span",jt,(0,u.zw)(l.value),1)])]),(0,i._)("div",zt,[(0,i._)("div",{class:"tweet-text",ref:"tweetText"},(0,u.zw)(t.tweet.text),513)])])])]))}};const Rt=(0,z.Z)(Vt,[["__scopeId","data-v-4f11c759"]]);var Ot=Rt,Jt={__name:"ComposeTweetModal",async setup(e){let t,a;const n=(0,c.q)(),r=(0,_t.g)(),s=(0,d.U)(),l=(0,o.iH)("reply"===n.modalType?([t,a]=(0,i.mv)((()=>r.getTweet(n.modalReply.tweetId))),t=await t,a(),t):null),u=(0,o.iH)("reply"===n.modalType?([t,a]=(0,i.mv)((()=>s.getUser(n.modalReply.userId))),t=await t,a(),t):null);return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(ze),"reply"===(0,o.SU)(n).modalType&&l.value&&u.value?((0,i.wg)(),(0,i.j4)(Ot,{key:0,user:{name:u.value.name,username:u.value.username,avatarUrl:u.value.avatarUrl},tweet:l.value},null,8,["user","tweet"])):(0,i.kq)("",!0),(0,i.Wm)(It.Z,{isModal:!0})],64))}};const Yt=Jt;var Bt=Yt,$t=a(2239),Kt=a(6035);const Qt={class:"form-wrapper"},Gt={id:"sign-up-form"},Xt={class:"input-wrapper"},ea={class:"input-wrapper"},ta=["disabled","onClick"];var aa={__name:"SignUpModal",setup(e){const t=(0,c.q)(),a=(0,d.U)(),r=(0,o.iH)(!1),s=(0,o.iH)(""),l=(0,i.Fl)((()=>0===s.value.length)),u=(0,o.iH)(""),m=3,p=(0,i.Fl)((()=>u.value.length>=m)),v=(0,i.Fl)((()=>!Ge.Fh.test(u.value))),w=(0,o.iH)(!1),h=(0,i.Fl)((()=>!p.value||v.value||w.value)),f=(0,o.iH)(""),g=(0,i.Fl)((()=>0===f.value.length)),y=(0,i.Fl)((()=>f.value.length>0&&!Ge.HN.test(f.value))),U=(0,i.Fl)((()=>g.value&&y.value)),b=(0,o.iH)(""),_=(0,i.Fl)((()=>0===b.value.length)),T=(0,i.Fl)((()=>b.value.length>0&&b.value.length<6)),k=(0,i.Fl)((()=>_.value||T.value)),S=(0,o.iH)(""),I=(0,o.iH)(!1),x=(0,i.Fl)((()=>l.value||h.value||U.value||k.value||0===S.value.length||r.value)),F=async()=>{r.value=!0;const e=await(0,Kt.QT)((0,Kt.JU)($t.db,"app","signup-code"));if(r.value=!1,!e.exists())throw new Error("Failed to fetch signup code.");e.data().value===S.value?await t.signUp(s.value,u.value,f.value,b.value):I.value=!0};return(0,i.YP)(u,(async()=>{0!==u.value.length&&(w.value=await a.isUsernameTaken(u.value))})),(0,i.YP)(S,(()=>{I.value=!1})),(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(ze,{text:"Create your account"}),(0,i._)("div",Qt,[(0,i._)("form",Gt,[(0,i._)("div",Xt,[(0,i.Wm)(Qe,{inputValue:s.value,"onUpdate:inputValue":t[0]||(t[0]=e=>s.value=e),name:"nameInput",label:"Name",startsBlank:!0,validation:[{errorText:"What's your name?",hasError:(0,o.SU)(l)}],minLength:"1",maxLength:"50"},null,8,["inputValue","validation"]),(0,i.Wm)(Qe,{inputValue:u.value,"onUpdate:inputValue":t[1]||(t[1]=e=>u.value=e),name:"usernameInput",label:"Username",startsBlank:!0,validation:[{errorText:`Username must be at least\n              ${m} characters.`,hasError:!(0,o.SU)(p)},{errorText:"Username can't contain special characters.",hasError:(0,o.SU)(v)},{errorText:"Username is taken.",hasError:w.value}],minLength:m,maxLength:"15",onKeydown:t[2]||(t[2]=(0,n.D2)((0,n.iM)((()=>{}),["prevent"]),["space"]))},null,8,["inputValue","validation"])]),(0,i.Wm)(Qe,{inputValue:f.value,"onUpdate:inputValue":t[3]||(t[3]=e=>f.value=e),type:"email",name:"emailInput",label:"Email",startsBlank:!0,validation:[{errorText:"Email is required.",hasError:(0,o.SU)(g)},{errorText:"Please enter a valid email.",hasError:(0,o.SU)(y)}],minLength:"1"},null,8,["inputValue","validation"]),(0,i._)("div",ea,[(0,i.Wm)(Qe,{inputValue:b.value,"onUpdate:inputValue":t[4]||(t[4]=e=>b.value=e),type:"password",name:"passInput",label:"Password",startsBlank:!0,validation:[{errorText:"Password is required.",hasError:(0,o.SU)(_)},{errorText:"Password must be at least 6 characters.",hasError:(0,o.SU)(T)}],minLength:"6"},null,8,["inputValue","validation"]),(0,i.Wm)(Qe,{inputValue:S.value,"onUpdate:inputValue":t[5]||(t[5]=e=>S.value=e),name:"signUpCodeInput",label:"Sign-up code",startsBlank:!0,validation:[{errorText:"Incorrect signup code.",hasError:I.value}],minLength:"1"},null,8,["inputValue","validation"])]),(0,i._)("button",{class:"make-account-btn",type:"submit",disabled:(0,o.SU)(x),onClick:(0,n.iM)(F,["prevent"])}," Sign Up ",8,ta)])])],64))}};const na=(0,z.Z)(aa,[["__scopeId","data-v-15c7b250"]]);var ra=na;const sa=e=>((0,i.dD)("data-v-0484c444"),e=e(),(0,i.Cn)(),e),la={class:"logo"},ia={class:"form-wrapper"},oa={id:"sign-in-form"},ua=sa((()=>(0,i._)("div",{class:"sign-in-text"},"Sign in to Chitter",-1))),ca=["disabled","onClick"],da=sa((()=>(0,i._)("span",{class:"gray-text"},"Don't have an account? ",-1)));var ma={__name:"LogInModal",setup(e){const t=(0,c.q)(),a=((0,d.U)(),(0,o.iH)(!1),(0,o.iH)("")),r=(0,o.iH)(""),s=(0,o.iH)(!1),l=(0,i.Fl)((()=>0===a.value.length||0===r.value.length)),u=()=>{t.setModalType("signup")},m=async()=>{const e=await t.logIn(a.value,r.value);s.value=e};return(0,i.YP)([a,r],(()=>{s.value=!1})),(e,t)=>{const c=(0,i.up)("v-icon");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(ze,null,{default:(0,i.w5)((()=>[(0,i._)("span",la,[(0,i.Wm)(c,{name:"bi-twitter",scale:"1.5",fill:"#1d9bf0"})])])),_:1}),(0,i._)("div",ia,[(0,i._)("form",oa,[ua,(0,i.Wm)(Qe,{inputValue:a.value,"onUpdate:inputValue":t[0]||(t[0]=e=>a.value=e),name:"userInput",label:"Email",startsBlank:!0,validation:[],minLength:"1"},null,8,["inputValue"]),(0,i.Wm)(Qe,{inputValue:r.value,"onUpdate:inputValue":t[1]||(t[1]=e=>r.value=e),type:"password",name:"passInput",label:"Password",startsBlank:!0,validation:[{errorText:"Wrong email or password.",hasError:s.value}],minLength:"1"},null,8,["inputValue","validation"]),(0,i._)("button",{class:"sign-in-btn",type:"submit",disabled:(0,o.SU)(l),onClick:(0,n.iM)(m,["prevent"])}," Sign In ",8,ca),(0,i._)("div",null,[da,(0,i._)("a",{class:"blue-link",onClick:u},"Sign up")])])])],64)}}};const pa=(0,z.Z)(ma,[["__scopeId","data-v-0484c444"]]);var va=pa;const wa={class:"modal-container"};var ha={__name:"ModalComponent",setup(e){const t=(0,c.q)();return(e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"modal-overlay",onClick:a[0]||(a[0]=(0,n.iM)((e=>(0,o.SU)(t).toggleModal()),["stop","self"]))},[(0,i._)("div",wa,[((0,i.wg)(),(0,i.j4)(i.n4,null,{default:(0,i.w5)((()=>["edit-profile"===(0,o.SU)(t).modalType?((0,i.wg)(),(0,i.j4)(Ut,{key:0})):(0,i.kq)("",!0)])),_:1})),((0,i.wg)(),(0,i.j4)(i.n4,null,{default:(0,i.w5)((()=>["retweet-list"===(0,o.SU)(t).modalType||"like-list"===(0,o.SU)(t).modalType?((0,i.wg)(),(0,i.j4)(St,{key:0})):(0,i.kq)("",!0)])),fallback:(0,i.w5)((()=>[(0,i.Wm)(Ae.Z)])),_:1})),((0,i.wg)(),(0,i.j4)(i.n4,null,{default:(0,i.w5)((()=>["status"===(0,o.SU)(t).modalType||"reply"===(0,o.SU)(t).modalType?((0,i.wg)(),(0,i.j4)(Bt,{key:0})):(0,i.kq)("",!0)])),_:1})),((0,i.wg)(),(0,i.j4)(i.n4,null,{default:(0,i.w5)((()=>["signup"===(0,o.SU)(t).modalType?((0,i.wg)(),(0,i.j4)(ra,{key:0})):(0,i.kq)("",!0)])),_:1})),"login"===(0,o.SU)(t).modalType?((0,i.wg)(),(0,i.j4)(va,{key:0})):(0,i.kq)("",!0)])]))}};const fa=ha;var ga=fa;const ya={class:"toast"};var Ua={__name:"ToastMessage",props:["duration"],setup(e){const t=e,a=(0,c.q)(),n=setTimeout((()=>a.showToast=!1),t.duration);return(0,i.Jd)((()=>{clearTimeout(n)})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",ya,(0,u.zw)((0,o.SU)(a).toastText),1))}};const ba=(0,z.Z)(Ua,[["__scopeId","data-v-7984448e"]]);var _a=ba;const Ta={class:"main-wrapper"},ka={class:"timeline-wrapper"};var Sa={__name:"App",setup(e){const t=(0,c.q)(),a=(0,d.U)(),r=(0,o.iH)(window.innerWidth),s=(0,o.iH)(!0),l=()=>{r.value=window.innerWidth};return(0,i.wF)((()=>{$t.I8.onAuthStateChanged((async e=>{let n,r;s.value=!0,e?(await a.syncCurrentUserToAuth(e.uid),await a.syncNotifications(e.uid),n=(0,Kt.cf)((0,Kt.JU)($t.db,"users",e.uid),(()=>{"Notifications"!==t.routeName&&a.syncCurrentUserToAuth(e.uid)})),r=(0,Kt.cf)((0,Kt.JU)($t.db,"notifications",e.uid),(()=>a.syncNotifications(e.uid)))):(n&&n(),r&&r(),a.setCurrentUser(null,null)),s.value=!1}))})),(0,i.bv)((()=>{window.addEventListener("resize",l)})),(0,i.Jd)((()=>{window.removeEventListener("resize")})),(e,l)=>{const u=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.value?((0,i.wg)(),(0,i.j4)(Ae.Z,{key:1})):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.wy)((0,i.Wm)(R,null,null,512),[[n.F8,r.value>500||(0,o.SU)(a).currentUser]]),(0,i._)("div",Ta,[(0,i._)("div",ka,[((0,i.wg)(),(0,i.j4)(i.n4,{timeout:"0"},{default:(0,i.w5)((()=>[(0,i.Wm)(be)])),fallback:(0,i.w5)((()=>[(0,i.Wm)(Ie)])),_:1})),(0,i.Wm)(u,null,{default:(0,i.w5)((({Component:e})=>[(0,i.Wm)(n.uT,{name:"fade",mode:"out-in"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)(i.n4,{timeout:"0"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)((0,i.LL)(e),{key:(0,o.SU)(t).componentKey}))])),fallback:(0,i.w5)((()=>[(0,i.Wm)(Ae.Z)])),_:2},1024))])),_:2},1024)])),_:1})])]),((0,i.wg)(),(0,i.j4)(i.n4,{timeout:"0"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(ce,null,null,512),[[n.F8,r.value>=1005]])])),_:1})),(0,o.SU)(a).currentUser?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(Pe,{key:0}))],64)),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(n.uT,null,{default:(0,i.w5)((()=>[(0,o.SU)(t).showModal?((0,i.wg)(),(0,i.j4)(ga,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(n.uT,null,{default:(0,i.w5)((()=>[(0,o.SU)(t).showToast?((0,i.wg)(),(0,i.j4)(_a,{key:0,duration:1500})):(0,i.kq)("",!0)])),_:1})]))],64)}}};const Ia=Sa;var xa=Ia,Fa=a(4463),Ca=a(1479),Da=a(9422),Ma=a(6564),La=a(9235),Ha=a(8422),Pa=a(3e3),Aa=a(2596),Wa=a(1799),Ea=a(7053),qa=a(3982);(0,Fa.Go)(Ca.G4C,Da.MGj,Da.dpH,Ca.Ohp,Ma.Lok,Ma.R5Z,La.J4e,Ha.m4n,Pa.eoI,Ha.WbZ,Ma.v0M,Da.HrR,Ca.JEI,Ma.npH,Ma.SW4,Aa.ZcQ,Aa.X81,Wa.p1b,Ea.EaH,Ma.czh,Wa.est,qa.BR5,Pa.S5t,Ma.opd,Wa.P4y);const Za=(0,r.WB)(),Na=(0,n.ri)(xa);Na.component("v-icon",Fa.xt),Na.use(Za,s.S),Na.use(l.Z).mount("#app")},1172:function(e,t,a){"use strict";var n=a(5743),r=a.n(n),s=a(893),l=a(976),i=a(1148),o={thresholds:[{l:"s",r:1},{l:"ss",r:59,d:"second"},{l:"m",r:1},{l:"mm",r:59,d:"minute"},{l:"h",r:1},{l:"hh",r:23,d:"hour"},{l:"d",r:1},{l:"dd",r:29,d:"day"},{l:"M",r:1},{l:"MM",r:11,d:"month"},{l:"y"},{l:"yy",d:"year"}]};r().extend(s,o),r().extend(l),r().extend(i),r().updateLocale("en",{relativeTime:{past:"%s",s:"1s",ss:"%ds",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"%dh"}}),t["Z"]={formatTweetDate(e,t){if(!e)return"Unknown";const a=r()(e),n=r()(t);return a.year()===n.year()?a.isToday()||n.diff(a,"hour")<23?a.fromNow():a.format("MMM D"):a.format("MMM D, YYYY")},formatJoinDate(e){if(!e)return null;const t=r()(e);return t.format("MMMM YYYY")},formatTime(e){if(!e)return"Unknown";const t=r()(e);return t.format("h:mm A")},formatFullDate(e){if(!e)return"Unknown";const t=r()(e);return t.format("MMM D, YYYY")}}},9707:function(e,t,a){"use strict";a.d(t,{Fh:function(){return l},HN:function(){return i},PH:function(){return s},YM:function(){return o},YN:function(){return c},nC:function(){return r},oS:function(){return u},yV:function(){return n}});const n=new RegExp(/[-a-zA-Z0-9@:%._~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_.~#?&//=]*)?/i),r=new RegExp(/(#+[a-zA-Z0-9(_)]{1,})/),s=new RegExp(/^(@[a-zA-Z0-9_]{1,}[\s\S])*$/),l=new RegExp(/^[a-zA-Z0-9_]*$/),i=new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/),o=e=>{if(e&&0!==e.length)switch(e.length){case 1:return"one-img";case 2:return"two-img";case 3:return"three-img";case 4:return"four-img";default:return""}},u=(e,t)=>1===t?e.slice(0,e.length-1):e,c=[{month:"",days:""},{month:"January",days:31},{month:"February",days:29},{month:"March",days:31},{month:"April",days:30},{month:"May",days:31},{month:"June",days:30},{month:"July",days:31},{month:"August",days:31},{month:"September",days:30},{month:"October",days:31},{month:"November",days:30},{month:"December",days:31}]},1120:function(e,t,a){"use strict";var n=a(2483),r=a(9327),s=(a(988),a(2239));const l=()=>Promise.all([a.e(640),a.e(170)]).then(a.bind(a,47)),i=()=>Promise.all([a.e(640),a.e(739)]).then(a.bind(a,2854)),o=()=>a.e(146).then(a.bind(a,6146)),u=()=>Promise.all([a.e(640),a.e(965)]).then(a.bind(a,8221)),c=()=>a.e(532).then(a.bind(a,3532)),d=()=>a.e(633).then(a.bind(a,7633)),m={template:'<div class="error gray-text" v-else>Tweet does not exist.</div>'},p=[{path:"",redirect:"/home"},{path:"/",redirect:"/home"},{path:"/chitter",redirect:"/home"},{path:"/home",name:"Home",component:l,meta:{requiresAuth:!0}},{path:"/explore",name:"Explore",component:i},{path:"/notifications",name:"Notifications",component:o,meta:{requiresAuth:!0}},{path:"/:username",name:"Profile",component:u,props:!0},{path:"/:username/following",name:"Following",component:c,props:!0},{path:"/:username/followers",name:"Followers",component:c,props:!0},{path:"/status/:id",name:"Tweet",component:d,props:!0},{path:"/:catchAll(.*)",component:m}],v=(0,n.p7)({history:(0,n.PO)(),routes:p});v.beforeEach((async(e,t,a)=>{const n=(0,r.q)();return n.showModal&&n.toggleModal(),e.meta.requiresAuth&&!await(0,s.EA)()?a("/explore"):a()})),t["Z"]=v},9327:function(e,t,a){"use strict";a.d(t,{q:function(){return o}});a(7658);var n=a(2578),r=a(988),s=a(1120),l=a(2239),i=a(6816);const o=(0,n.Q_)("app",{state:()=>({showModal:!1,modalType:"status",modalReply:{userId:null,tweetId:null},showToast:!1,toastText:""}),getters:{routeName:()=>s.Z.currentRoute.value.name,routeTweetId:()=>s.Z.currentRoute.value.params.id,routeUsername:()=>s.Z.currentRoute.value.params.username},actions:{async goTo(e){return s.Z.push(e)},setCurrentUser(e){this.currentUser=e||null,this.currentId=e.id},async logIn(e,t){const a=(0,r.U)();return(0,i.e5)(l.I8,e,t).then((e=>{const t=e.user;a.syncCurrentUserToAuth(t.uid),this.toast("Welcome!"),this.goTo("/home")})).catch((e=>{const t=e.code,a=e.message;return console.log(a),t}))},logOut(){const e=(0,r.U)();(0,i.w7)(l.I8).then((()=>{e.setCurrentUser(null,null),this.goTo("explore")})).catch((e=>{console.log(e)}))},async signUp(e,t,a,n){return(0,i.Xb)(l.I8,a,n).then((a=>{const n=a.user,s=(0,r.U)();s.setCurrentUser(s.createUser(n.uid,e,t),n.uid),this.toast("Welcome!"),this.goTo("/home")})).catch((e=>{const t=e.code,a=e.message;return console.log(a),t}))},viewTweet(e){window.getSelection().toString().length>0||s.Z.push({name:"Tweet",params:{id:e}})},viewUserProfile(e){s.Z.push({name:"Profile",params:{username:e}})},setModalType(e){const t=["status","reply","edit-profile","retweet-list","like-list","signup","login"];if(!t.includes(e))throw Error("wrong modal type");this.modalType=e},toggleModal(e){e&&this.setModalType(e),this.showModal=!this.showModal},setModalReply(e,t){this.modalReply={userId:e,tweetId:t}},toast(e){this.showToast=!this.showToast,this.toastText=e}}})},7925:function(e,t,a){"use strict";a.d(t,{g:function(){return d}});a(7658),a(541);var n=a(2578),r=a(988),s=a(2239),l=a(6035),i=a(1992),o=a(3301),u=a.n(o),c=new(u());const d=(0,n.Q_)("tweets",{state:()=>({tweets:[],infiniteScrollIndex:null,fetchLimit:8,uploadProgress:null}),getters:{},actions:{async getTweet(e){const t=await(0,l.QT)((0,l.JU)(s.db,"tweets",e));return t.exists()?t.data():(console.log(`Tweet ${e} does not exist.`),null)},sortByTimestamp(e){return e.sort(((e,t)=>e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0))},sortTweets(){this.tweets.sort(((e,t)=>e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0))},setTweets(e){this.tweets=[...e]},increment(e,t,a){(0,l.r7)((0,l.JU)(s.db,"tweets",e),{[t]:(0,l.nP)(a)})},async addToFieldArray(e,t,a){const n=await this.getTweet(e);if(!n[t])throw new Error(`Tweet ${e}: '${t}' does not exist.`);(0,l.r7)((0,l.JU)(s.db,"tweets",e),{[t]:(0,l.vr)(a)})},async removeFromFieldArray(e,t,a){return(0,l.r7)((0,l.JU)(s.db,"tweets",e),{[t]:(0,l.Ab)(a)})},async getTimelineTweets(e){const t=await(0,l.QT)((0,l.JU)(s.db,"timelines",e));return t.exists()?t.data().tweets:null},updateTimeline(e,t){(0,l.r7)((0,l.JU)(s.db,"timelines",e),{tweets:t})},addToTimeline(e,t){(0,l.r7)((0,l.JU)(s.db,"timelines",e),{tweets:(0,l.vr)(t)})},async createTimelineTweet(e,t,a,n,r,s=null){const l=await this.getTimelineTweets(e);l.filter((e=>e.id===t&&e.type===a)).length>0||this.addToTimeline(e,{id:t,type:a,timestamp:n,fromUserId:r,replyingToUser:s})},async addToAllFollowerTimelines(e,t,a,n,s,l){const i=(0,r.U)(),o=await i.getUser(e);return Promise.all(o.followers.map((e=>this.createTimelineTweet(e,t,a,n,s,l))))},async removeFromTimeline(e,t,a){const n=await this.getTimelineTweets(e);if(!n)return;const r=n.filter((e=>e.id!==t||a&&"retweet"!==e.type));this.updateTimeline(e,r)},async removeFromAllFollowerTimelines(e,t,a){const n=(0,r.U)(),s=await n.getUser(e);return Promise.all(s.followers.map((e=>this.removeFromTimeline(e,t,a))))},async addLike(e,t,a){this.increment(e,"likeCount",1),this.addToFieldArray(e,"likesFrom",t);const n=(0,r.U)();n.addLike(t,e);const s=await this.getTweet(e);s&&s.authorId!==t&&(a?n.notify(s.authorId,t,"like-retweet",e):n.notify(s.authorId,t,"like-origin",e))},removeLike(e,t,a){this.increment(e,"likeCount",-1),this.removeFromFieldArray(e,"likesFrom",t);const n=(0,r.U)();n.removeLike(t,e),n.deleteNotification(a,e)},removeAllLikes(e,t,a){const n=(0,r.U)();Promise.all(e.map((e=>n.removeLike(e,t,a))))},async hasLiked(e,t){return this.getTweet(e).then((e=>e.likesFrom.includes(t))).catch((()=>!1))},async addRetweet(e,t,a){this.increment(e,"retweetCount",1),this.addToFieldArray(e,"retweetsFrom",t);const n=(0,r.U)(),s=await this.getTweet(e);n.addRetweet(t,e,s.authorId),this.createTimelineTweet(t,e,"retweet",(new Date).toISOString(),a||t),this.addToAllFollowerTimelines(t,e,"retweet",(new Date).toISOString(),a||t),s.authorId!==t&&a!==t&&(a?n.notify(s.authorId,t,"retweet-retweet",e):n.notify(s.authorId,t,"retweet-origin",e))},removeRetweet(e,t,a){this.increment(e,"retweetCount",-1),this.removeFromFieldArray(e,"retweetsFrom",t),this.tweets.findIndex((t=>t.id===e&&"retweet"===t.type))>=0&&this.tweets.splice(this.tweets.findIndex((t=>t.id===e&&"retweet"===t.type)),1);const n=(0,r.U)();n.removeRetweet(t,e),this.removeFromTimeline(t,e,!0),this.removeFromAllFollowerTimelines(t,e,!0),n.deleteNotification(a,e)},removeAllRetweets(e,t,a){const n=(0,r.U)();Promise.all(e.map((e=>n.removeRetweet(e,t,a))))},async hasRetweeted(e,t){return this.getTweet(e).then((e=>e.retweetsFrom.includes(t))).catch((()=>!1))},uploadImage(e,t,a=null){return t?new Promise(((n,r)=>{const l=(0,i.iH)(s.tO,`tweet/${e}-${a}`),o=(0,i.B0)(l,t);o.on("state_changed",(e=>{this.uploadProgress=Math.trunc(e.bytesTransferred/e.totalBytes*100)}),(e=>{console.log(e),r(e)}),(()=>{(0,i.Jt)(o.snapshot.ref).then((e=>{this.uploadProgress=null,n(e)}))}))})):""},async addTweet(e="status",t="",a=[],n,i=null,o=null,u=null,d){const m=(0,r.U)(),p=c(),v=(new Date).toISOString();let w=[];a.length>0&&await Promise.all(a.map(((e,t)=>this.uploadImage(p,e,t)))).then((e=>w=[...e])).catch((e=>console.log(e)));const h={id:p,type:e,text:t,media:w,authorId:n,replyCount:0,retweetCount:0,likeCount:0,quoteCount:0,timestamp:v,replyingToTweet:i,replyingToUser:o,mentionedUsers:u,quoting:null,repliesFrom:[],retweetsFrom:[],quotesFrom:[],likesFrom:[]},f=Object.assign({},h,{replyingToUser:m.getUsername(o)});d?this.tweets.push(f):this.tweets.unshift(f),await(0,l.pl)((0,l.JU)(s.db,"tweets",p),h),"reply"===e&&i&&this.addToFieldArray(i,"repliesFrom",p);const g=w.length>0;m.addTweet(n,p,n,e,g,o,v),this.createTimelineTweet(n,p,e,v,n,o),this.addToAllFollowerTimelines(n,p,e,v,null,o),o&&o!==n&&m.notify(o,n,e,p),u&&u.length>0&&Promise.all(h.mentionedUsers.map((e=>{e!==n&&m.notify(e,n,"mention",p)})))},async deleteMedia(e,t){for(let a=0;a<t;a++){const t=(0,i.iH)(s.tO,`tweet/${e}-${a}`);(0,i.oq)(t).catch((e=>{console.log(e)}))}},async removeTweet(e,t){const a=await this.getTweet(e);if(!a)return;this.setTweets(this.tweets.filter((t=>t.id!==e))),a.replyingToTweet&&await this.getTweet(a.replyingToTweet)&&this.removeFromFieldArray(a.replyingToTweet,"repliesFrom",e);const n=(0,r.U)();return n.removeTweet(t,e),this.removeFromTimeline(t,e),this.removeFromAllFollowerTimelines(t,e),this.removeAllLikes([...a.likesFrom],e,a.authorId),this.removeAllRetweets([...a.retweetsFrom].filter((e=>e!==t)),e,a.authorId),a.media.length>0&&this.deleteMedia(e,a.media.length),n.deleteNotification(t,e),a.replyingToUser&&n.deleteNotification(a.replyingToUser,e),(0,l.oe)((0,l.JU)(s.db,"tweets",e))}}})},988:function(e,t,a){"use strict";a.d(t,{U:function(){return o}});var n=a(2578),r=a(2239),s=a(6035),l=a(1992),i=a(7925);const o=(0,n.Q_)("users",{state:()=>({currentUser:null,currentId:null,notifications:{new:[],old:[]},docPointer:null,fetchLimit:4}),getters:{},actions:{async getUser(e){const t=await(0,s.QT)((0,s.JU)(r.db,"users",e));return t.exists()?t.data():null},async getUserTweets(e){const t=await(0,s.QT)((0,s.JU)(r.db,"user-tweets",e));return t.exists()?t.data().tweets:null},async getUserProps(e){return this.getUser(e).then((t=>({id:e,name:t.name,username:t.username,avatarUrl:t.avatarUrl}))).catch((()=>null))},updateDocInCollection(e,t,a){(0,s.r7)((0,s.JU)(r.db,e,t),a).catch((e=>console.log(e)))},increment(e,t,a){(0,s.r7)((0,s.JU)(r.db,"users",e),{[t]:(0,s.nP)(a)}).catch((e=>console.log(e)))},async addToFieldArray(e,t,a,n){(0,s.r7)((0,s.JU)(r.db,e,t),{[a]:(0,s.vr)(n)}).catch((e=>console.log(e)))},async removeFromFieldArray(e,t,a,n){return(0,s.r7)((0,s.JU)(r.db,e,t),{[a]:(0,s.Ab)(n)}).catch((e=>console.log(e)))},setCurrentUser(e,t){this.currentUser=e||null,this.currentId=t||null},async syncCurrentUserToAuth(e){this.setCurrentUser(await this.getUser(e),e)},createUser(e,t,a){const n={id:e,isAdmin:!1,isPrivate:!1,name:t,username:a,description:"",location:"",website:"",birthday:"",avatarUrl:"",headerUrl:"",followingCount:0,followerCount:0,tweetCount:0,timestamp:(new Date).toISOString(),likes:[],following:[],followers:[]};return this.setCurrentUser(n,e),(0,s.pl)((0,s.JU)(r.db,"users",e),n),(0,s.pl)((0,s.JU)(r.db,"user-tweets",e),{tweets:[]}),(0,s.pl)((0,s.JU)(r.db,"notifications",e),{old:[],new:[]}),(0,s.pl)((0,s.JU)(r.db,"timelines",e),{tweets:[]}),n},async getName(e){if(!e)return null;const t=await this.getUser(e);return t?t.name:""},async getUsername(e){if(!e)return null;const t=await this.getUser(e);return t?t.username:""},async getUserByUsername(e){if(!e)return;let t=null;const a=(0,s.IO)((0,s.hJ)(r.db,"users"),(0,s.ar)("username","==",e)),n=await(0,s.PL)(a);return n.forEach((e=>t=e.id)),t?this.getUser(t):null},async isUsernameTaken(e){if(!e)return;if(this.currentUser&&this.currentUser.username===e)return!1;let t=null;const a=(0,s.IO)((0,s.hJ)(r.db,"users"),(0,s.ar)("username","==",e)),n=await(0,s.PL)(a);return n.forEach((e=>{t=e.id})),!!t},async uploadProfileImage(e,t,a){if(!t)return"";const n=(0,l.iH)(r.tO,`${a}/${e}`);return await(0,l.KV)(n,t),(0,l.Jt)(n)},async updateProfile(e,t,a,n,r,s,l,i,o){let u=this.currentUser.avatarUrl,c=this.currentUser.headerUrl;i&&(u=await this.uploadProfileImage(e,i,"avatar")),o&&(c=await this.uploadProfileImage(e,o,"header"));const d={name:t,username:a,description:n,location:r,website:s,birthday:l,avatarUrl:u,headerUrl:c};this.updateDocInCollection("users",e,d)},addTweet(e,t,a=e,n="status",r=!1,s=null,l){const i=s===a;this.addToFieldArray("user-tweets",e,"tweets",{authorId:a,id:t,type:n,containsMedia:r,replyingToUser:s,isSelfReply:i,timestamp:l})},async removeTweet(e,t){const a=await this.getUserTweets(e),n=a.filter((e=>e.id!==t));this.updateDocInCollection("user-tweets",e,{tweets:n}),this.updateDocInCollection("users",e,{tweetCount:n.length})},addRetweet(e,t,a){this.addTweet(e,t,a,"retweet",null,null,(new Date).toISOString())},async removeRetweet(e,t){const a=await this.getUserTweets(e),n=a.filter((e=>e.id!==t||"retweet"!==e.type));this.updateDocInCollection("user-tweets",e,{tweets:n})},addLike(e,t){this.addToFieldArray("users",e,"likes",t)},removeLike(e,t){this.removeFromFieldArray("users",e,"likes",t)},followUser(e){this.increment(this.currentId,"followingCount",1),this.increment(e,"followerCount",1),this.addToFieldArray("users",this.currentId,"following",e),this.addToFieldArray("users",e,"followers",this.currentId),this.notify(e,this.currentId,"follow")},async unfollowUser(e){this.increment(this.currentId,"followingCount",-1),this.increment(e,"followerCount",-1),this.removeFromFieldArray("users",this.currentId,"following",e),this.removeFromFieldArray("users",e,"followers",this.currentId),this.notify(e,this.currentId,"follow");const t=(0,i.g)(),a=await t.getTimelineTweets(this.currentId);if(!a)return;const n=a.filter((t=>t.fromUserId!==e));t.updateTimeline(this.currentId,n)},async isFollowingUser(e,t){if(e===t)return!1;const a=await this.getUser(e);return a.following.includes(t)},canFollow(e){return!(!this.currentId||this.currentId===e)&&!this.currentUser.following.includes(e)},async getNotificationsDoc(e){const t=await(0,s.QT)((0,s.JU)(r.db,"notifications",e));return t.exists()?t.data():null},async syncNotifications(e){const t=await this.getNotificationsDoc(e);t&&(this.notifications=t)},async notify(e,t,a,n=null){const r=await this.getNotificationsDoc(e);if(!r)return;const s={fromUser:t,type:a,tweetId:n};0===r.new.filter((e=>e.fromUser===s.fromUser&&e.type===s.type&&e.tweetId===s.tweetId)).length&&0===r.old.filter((e=>e.fromUser===s.fromUser&&e.type===s.type&&e.tweetId===s.tweetId)).length&&this.addToFieldArray("notifications",e,"new",s)},async clearNotifications(){const e=await this.getNotificationsDoc(this.currentId),t={old:[...e.old,...e.new],new:[]};this.updateDocInCollection("notifications",this.currentId,t)},async deleteNotification(e,t){const a=await this.getNotificationsDoc(e);if(a){if(a.new.filter((e=>e.tweetId===t)).length>0){const n=a.new.filter((e=>e.tweetId!==t));this.updateDocInCollection("notifications",e,{new:n})}if(a.old.filter((e=>e.tweetId===t)).length>0){const n=a.old.filter((e=>e.tweetId!==t));this.updateDocInCollection("notifications",e,{old:n})}}},hasNewNotifications(){return this.notifications.new.length>0},getAllNotifications(){return[...this.notifications.old,...this.notifications.new]},isNewNotification(e){return this.notifications.new.filter((t=>t===e)).length>0},tweetIsNewNotification(e){return this.notifications.new.filter((t=>t.tweetId===e)).length>0}}})},1555:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=a(3396),r=a(9242),s=a(248);const l={class:"user-list"},i={key:1,class:"error gray-text"};var o={__name:"UserList",props:["users"],setup(e){return(t,a)=>((0,n.wg)(),(0,n.iD)("div",l,[e.users.length>0?((0,n.wg)(),(0,n.j4)(r.W3,{key:0,name:"fade"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.users,(e=>((0,n.wg)(),(0,n.j4)(s.Z,{key:e.id,id:e.id,name:e.name,username:e.username,avatarUrl:e.avatarUrl,description:e.description},null,8,["id","name","username","avatarUrl","description"])))),128))])),_:1})):((0,n.wg)(),(0,n.iD)("div",i,"No users to display"))]))}},u=a(89);const c=(0,u.Z)(o,[["__scopeId","data-v-630c3760"]]);var d=c},5280:function(e,t,a){"use strict";a.d(t,{Z:function(){return L}});a(7658);var n=a(3396),r=a(7139),s=a(4870),l=a(9242),i=a(8341),o=a(9327),u=a(7925),c=a(988),d=a(9707),m=a(5514),p=a.n(m);const v={class:"compose-tweet-container"},w={class:"progress-bar"},h={class:"profile-pic-container"},f={class:"compose-tweet-body"},g={class:"compose-tweet-content"},y=["disabled"],U=["src"],b=["onClick"],_={class:"compose-tweet-bar"},T=["disabled"],k=["id","disabled"],S=["for"],I={class:"limit-and-btn"},x={class:"circle-wrapper"},F=["disabled"];var C={__name:"ComposeTweet",props:["isModal"],setup(e){const t=e,a=(0,o.q)(),m=(0,u.g)(),C=(0,c.U)(),D=(0,s.iH)(null),M=(0,s.iH)(null),L=(0,s.iH)([]),H=(0,s.iH)([]),P=(0,s.iH)(""),A=(0,s.iH)(!1),W=(0,n.Fl)((()=>C.currentUser)),E=(0,n.Fl)((()=>0===P.value.length&&0===L.value.length)),q=(0,n.Fl)((()=>4===L.value.length)),Z=(0,n.Fl)((()=>280-P.value.length)),N=(0,n.Fl)((()=>Z.value<=20)),j=(0,n.Fl)((()=>Z.value<=0)),z=(0,n.Fl)((()=>!W.value||j.value||E.value||m.uploadProgress)),V=e=>{Array.from(e.currentTarget.files).slice(0,4).forEach((e=>L.value.push(e))),Array.from(e.currentTarget.files).slice(0,4).map((e=>URL.createObjectURL(e))).forEach((e=>H.value.push(e)))},R=e=>{L.value.splice(e,1),H.value.splice(e,1)},O=()=>{D.value.style.height="",D.value.style.height=D.value.scrollHeight+"px"},J=()=>{O()},Y=async e=>{const t=e.replace(/\r?\n/," ").split(" ")[0];return d.PH.test(t)&&await C.getUserByUsername(t.replace("@",""))?C.getUserByUsername(t.replace("@","")).then((e=>e.id)):null},B=async e=>e.replace(/\r?\n/,"").split(" ").some((e=>d.PH.test(e)))?Promise.all(e.split(" ").filter((t=>d.PH.test(t)&&t!==e.split(" ")[0])).map((async e=>{const t=await C.getUserByUsername(e.replace("@",""));return t?t.id:null}))):null,$=async()=>{if(E.value)return;A.value=!0;let e=t.isModal&&"reply"===a.modalType?a.modalReply.tweetId:null;const n=t.isModal&&"reply"===a.modalType?a.modalReply.userId:await Y(P.value),r=await B(P.value),s=t.isModal&&"reply"===a.modalType||n?"reply":"status",l="Tweet"===a.routeName;await m.addTweet(s,p()(P.value,{allowedTags:[],allowedAttributes:{},disallowedTagsMode:"recursiveEscape"}),L.value,W.value.id,e,n,r?r.filter((e=>e)):null,l),A.value=!1,P.value="",L.value=[],H.value=[],a.showModal&&a.toggleModal()};return(0,n.YP)(P,(()=>{const e=(P.value.length/280).toFixed(2);N.value&&Z.value>0?M.value.style=`--circle: ${e}; --color: #ffd400; --outerRadius: 28px; --innerRadius: 24px;`:j.value?M.value.style=`--circle: ${e}; --color: #f4212e;--outerRadius: 28px; --innerRadius: 24px;`:M.value.style=`--circle: ${e}; --color: #1d9bf0;--outerRadius: 22px; --innerRadius: 18px;`})),(t,a)=>{const o=(0,n.up)("v-icon");return(0,n.wg)(),(0,n.iD)("div",v,[(0,n.wy)((0,n._)("div",w,[(0,n._)("div",{class:"progress-bar-blue",style:(0,r.j5)(`--percent: ${(0,s.SU)(m).uploadProgress}%`)},null,4)],512),[[l.F8,A.value]]),(0,n._)("div",h,[(0,n.Wm)(i.Z,{url:(0,s.SU)(W)?(0,s.SU)(W).avatarUrl:"",size:48},null,8,["url"])]),(0,n._)("div",f,[(0,n._)("div",g,[(0,n.wy)((0,n._)("textarea",{ref_key:"textArea",ref:D,placeholder:"What's happening?",onInput:J,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e),maxlength:"280",disabled:A.value},null,40,y),[[l.nr,P.value]]),(0,n.wy)((0,n._)("div",{class:(0,r.C_)(["tweet-media",[(0,s.SU)(d.YM)(L.value)]])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(H.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"image-preview-wrapper",key:L.value.indexOf(e)},[(0,n._)("img",{src:e,class:(0,r.C_)(["image-preview",{uploading:A.value}])},null,10,U),A.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"remove-image-btn",onClick:t=>R(L.value.indexOf(e))},[(0,n.Wm)(o,{name:"bi-x",scale:"1.6",fill:"white"})],8,b))])))),128))],2),[[l.F8,L.value.length>0]])]),(0,n._)("div",_,[(0,n._)("button",{class:"add-image-btn",disabled:(0,s.SU)(q)},[(0,n._)("input",{id:"upload-image-"+(e.isModal?"modal":""),type:"file",accept:"image/png, image/gif, image/jpeg",onChange:V,hidden:"",disabled:(0,s.SU)(q),multiple:""},null,40,k),(0,n._)("label",{for:"upload-image-"+(e.isModal?"modal":"")},[(0,n.Wm)(o,{name:"ri-image-add-line",scale:"1.1",fill:"#1d9bf0"})],8,S)],8,T),(0,n._)("div",I,[(0,n._)("span",x,[(0,n._)("div",{ref_key:"circle",ref:M,class:"circle",style:{"--circle":"0"}},[(0,n.wy)((0,n._)("span",{class:(0,r.C_)(["character-limit",{"red-text":(0,s.SU)(j)}])},(0,r.zw)((0,s.SU)(Z)),3),[[l.F8,(0,s.SU)(N)]])],512)]),(0,n._)("button",{class:"new-tweet-btn",disabled:(0,s.SU)(z),onClick:a[1]||(a[1]=e=>$(null))}," Tweet ",8,F)])])])])}}},D=a(89);const M=(0,D.Z)(C,[["__scopeId","data-v-0cb79f20"]]);var L=M},2170:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var n=a(4870),r=a(3396),s=a(9242),l=a(988);const i=["onClick"],o=["onClick"];var u={__name:"FollowButton",props:["userId"],emits:["increment"],setup(e,{emit:t}){const a=e,u=(0,l.U)(),c=()=>{u.currentId&&(u.followUser(a.userId),t("increment",1))},d=()=>{u.currentId&&(u.unfollowUser(a.userId),t("increment",-1))};return(e,t)=>(0,n.SU)(u).canFollow(a.userId)?(0,n.SU)(u).canFollow(a.userId)?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"follow-btn",onClick:(0,s.iM)(c,["stop"])}," Follow ",8,o)):(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"following-btn",onClick:(0,s.iM)(d,["stop"])},null,8,i))}},c=a(89);const d=(0,c.Z)(u,[["__scopeId","data-v-793b261d"]]);var m=d},1319:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(3396),r=a(7139),s={__name:"HeaderPicture",props:{url:String},setup(e){const t=e;return(e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:"header-img",style:(0,r.j5)({backgroundImage:`url(${t.url})`})},null,4))}},l=a(89);const i=(0,l.Z)(s,[["__scopeId","data-v-da93353a"]]);var o=i},3282:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=a(3396);const r={class:"load-wrapper"},s=(0,n._)("div",{class:"loader"},null,-1),l=[s];var i={__name:"LoadSpinner",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",r,l))}};const o=i;var u=o},8341:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(3396),r=a(7139),s={__name:"ProfilePicture",props:{url:String,size:Number},setup(e){const t=e;return(e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:"profile-pic",style:(0,r.j5)({backgroundImage:`url(${t.url})`,width:t.size+"px",minWidth:t.size+"px"})},[(0,n.WI)(e.$slots,"default")],4))}},l=a(89);const i=(0,l.Z)(s,[["__scopeId","data-v-9e7d4a8e"]]);var o=i},248:function(e,t,a){"use strict";a.d(t,{Z:function(){return T}});var n=a(3396),r=a(7139),s=a(9242),l=a(4870),i=a(8341),o=a(2170),u=a(9327),c=a(988);const d={class:"profile-pic-container"},m={class:"user-body"},p={class:"user-info-and-btn"},v={class:"user-info-wrapper"},w=["onClick"],h={class:"username-wrapper"},f={class:"username gray-text"},g={key:0,class:"follows-you gray-text"},y={key:0,class:"description"};var U={__name:"UserCard",props:["id","name","username","avatarUrl","description","isSimple"],async setup(e){let t,a;const U=e,b=(0,u.q)(),_=(0,c.U)(),T=(0,l.iH)(!!_.currentId&&([t,a]=(0,n.mv)((()=>_.isFollowingUser(U.id,_.currentId))),t=await t,a(),t));function k(){b.viewUserProfile(U.username)}return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)(["user-container",{isSimple:U.isSimple}]),onClick:k},[(0,n._)("div",d,[(0,n.Wm)(i.Z,{url:U.avatarUrl,size:48,onClick:(0,s.iM)(k,["stop"])},null,8,["url","onClick"])]),(0,n._)("div",m,[(0,n._)("div",p,[(0,n._)("div",v,[(0,n._)("span",{class:"display-name",onClick:(0,s.iM)(k,["stop"])},[(0,n._)("a",null,(0,r.zw)(U.name),1)],8,w),(0,n._)("span",h,[(0,n._)("span",f," @"+(0,r.zw)(U.username),1),T.value&&!U.isSimple?((0,n.wg)(),(0,n.iD)("div",g," Follows you ")):(0,n.kq)("",!0)])]),(0,l.SU)(_).currentId&&(0,l.SU)(_).currentId!==U.id?((0,n.wg)(),(0,n.j4)(o.Z,{key:0,userId:U.id},null,8,["userId"])):(0,n.kq)("",!0)]),U.description?((0,n.wg)(),(0,n.iD)("div",y,(0,r.zw)(U.description),1)):(0,n.kq)("",!0)])],2))}},b=a(89);const _=(0,b.Z)(U,[["__scopeId","data-v-3a1cfa1c"]]);var T=_},5347:function(){},1777:function(){},4017:function(){},9905:function(){},4604:function(){}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,s){if(!n){var l=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],s=e[c][2];for(var i=!0,o=0;o<n.length;o++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[o])}))?n.splice(o--,1):(i=!1,s<l&&(l=s));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{146:"86124f3a",170:"60887f40",532:"b1713cdb",633:"524413f3",640:"c4e2f4c0",739:"ea3b67d0",965:"cf631ed2"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{146:"636b32e3",170:"c3e90654",532:"fea1a0b9",633:"7be8a675",739:"cd44778b",965:"f9964697"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="chitter:";a.l=function(n,r,s,l){if(e[n])e[n].push(r);else{var i,o;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(o=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[r];var m=function(t,a){i.onerror=i.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),o&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/chitter/"}(),function(){var e=function(e,t,a,n){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var s=function(s){if(r.onerror=r.onload=null,"load"===s.type)a();else{var l=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.href||t,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.type=l,o.request=i,r.parentNode.removeChild(r),n(o)}};return r.onerror=r.onload=s,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],s=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(s===e||s===t))return r}var l=document.getElementsByTagName("style");for(n=0;n<l.length;n++){r=l[n],s=r.getAttribute("data-href");if(s===e||s===t)return r}},n=function(n){return new Promise((function(r,s){var l=a.miniCssF(n),i=a.p+l;if(t(l,i))return r();e(n,i,r,s)}))},r={143:0};a.f.miniCss=function(e,t){var a={146:1,170:1,532:1,633:1,739:1,965:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=s);var l=a.p+a.u(t),i=new Error,o=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+l+")",i.name="ChunkLoadError",i.type=s,i.request=l,r[1](i)}};a.l(l,o,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,l=n[0],i=n[1],o=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(o)var c=o(a)}for(t&&t(n);u<l.length;u++)s=l[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},n=self["webpackChunkchitter"]=self["webpackChunkchitter"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(5001)}));n=a.O(n)})();
//# sourceMappingURL=app.0ba8e171.js.map