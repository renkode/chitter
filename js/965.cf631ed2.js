"use strict";(self["webpackChunkchitter"]=self["webpackChunkchitter"]||[]).push([[965],{8221:function(e,a,s){s.r(a),s.d(a,{default:function(){return re}});s(7658);var t=s(3396),l=s(4870),r=s(7139),n=s(9242),i=s(8341),u=s(1319),c=s(2170),o=s(6601),p=s(1172),w=s(9327),m=s(988),f=s(9707);const y=e=>((0,t.dD)("data-v-1d79ab14"),e=e(),(0,t.Cn)(),e),d={class:"profile-container"},v={class:"user-info-container"},g={class:"avatar-wrapper"},b={class:"user-info-wrapper"},k={class:"display-name"},U={class:"username-wrapper"},_={class:"username gray-text"},h={key:0,class:"follows-you gray-text"},T={class:"description"},F={class:"misc-info-wrapper"},x={key:0,class:"misc-info gray-text"},C={class:"misc-icon"},S={key:1,class:"misc-info gray-text"},q={class:"misc-icon"},D=["href"],P={key:2,class:"misc-info gray-text"},j={class:"misc-icon"},z={key:3,class:"misc-info gray-text"},I={class:"misc-icon"},W={class:"follow-metric-wrapper"},Z=y((()=>(0,t._)("span",{class:"follow gray-text"}," Following",-1))),H={class:"follow gray-text"},B={class:"profile-tab-container"},L={class:"tab-wrapper"},O={class:"tab-indicator"},M={class:"tab-wrapper"},Y={class:"tab-indicator"},J={class:"tab-wrapper"},E={class:"tab-indicator"},R={class:"tab-wrapper"},V={class:"tab-indicator"};var $={__name:"ProfileBio",props:{user:Object,tab:String,setTab:Function},async setup(e){let a,s;const y=e,$=(0,w.q)(),A=(0,m.U)(),G=(0,l.iH)(y.user.followerCount),K=(0,t.Fl)((()=>y.user.website.replace(/https?:\/\/(www\.)?/gi,"").replace(/\/+$/,""))),N=(0,t.Fl)((()=>p.Z.formatJoinDate(y.user.timestamp))),Q=(0,l.iH)(([a,s]=(0,t.mv)((()=>A.isFollowingUser(y.user.id,A.currentId))),a=await a,s(),a));return(a,s)=>{const p=(0,t.up)("v-icon"),w=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(u.Z,{url:y.user.headerUrl},null,8,["url"]),(0,t._)("div",v,[(0,t._)("div",g,[(0,t.Wm)(i.Z,{url:y.user.avatarUrl,size:135},null,8,["url"]),(0,l.SU)(A).currentId==y.user.id?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"edit-profile-btn",onClick:s[0]||(s[0]=e=>(0,l.SU)($).toggleModal("edit-profile"))}," Edit Profile ")):(0,l.SU)(A).currentUser?((0,t.wg)(),(0,t.j4)(c.Z,{key:1,userId:y.user.id,onIncrement:s[1]||(s[1]=e=>G.value+=e)},null,8,["userId"])):(0,t.kq)("",!0)]),(0,t._)("div",b,[(0,t._)("span",k,(0,r.zw)(y.user.name),1),(0,t._)("span",U,[(0,t._)("span",_," @"+(0,r.zw)(y.user.username),1),(0,l.SU)(A).currentId&&Q.value?((0,t.wg)(),(0,t.iD)("div",h," Follows you ")):(0,t.kq)("",!0)])]),(0,t._)("span",T,[(0,t.Wm)(o.Z,{text:y.user.description},null,8,["text"])]),(0,t._)("span",F,[y.user.location?((0,t.wg)(),(0,t.iD)("span",x,[(0,t._)("span",C,[(0,t.Wm)(p,{name:"md-locationon-outlined",scale:"1.0",fill:"#ffffff80"})]),(0,t.Uk)((0,r.zw)(y.user.location),1)])):(0,t.kq)("",!0),y.user.website?((0,t.wg)(),(0,t.iD)("span",S,[(0,t._)("span",q,[(0,t.Wm)(p,{name:"oi-link",scale:"1.0",fill:"#ffffff80"})]),(0,t._)("a",{class:"blue-link",href:y.user.website},(0,r.zw)((0,l.SU)(K)),9,D)])):(0,t.kq)("",!0),y.user.birthday.length>1?((0,t.wg)(),(0,t.iD)("span",P,[(0,t._)("span",j,[(0,t.Wm)(p,{name:"la-birthday-cake-solid",scale:"1.0",fill:"#ffffff80"})]),(0,t.Uk)((0,r.zw)(y.user.birthday),1)])):(0,t.kq)("",!0),(0,l.SU)(N)?((0,t.wg)(),(0,t.iD)("span",z,[(0,t._)("span",I,[(0,t.Wm)(p,{name:"bi-calendar3",scale:"1.0",fill:"#ffffff80"})]),(0,t.Uk)("Joined "+(0,r.zw)((0,l.SU)(N)),1)])):(0,t.kq)("",!0)]),(0,t._)("span",W,[(0,t.Wm)(w,{class:"follow-metric",to:{name:"Following",params:{username:y.user.username}}},{default:(0,t.w5)((()=>[(0,t._)("strong",null,(0,r.zw)(y.user.followingCount),1),Z])),_:1},8,["to"]),(0,t.Wm)(w,{class:"follow-metric",to:{name:"Followers",params:{username:y.user.username}}},{default:(0,t.w5)((()=>[(0,t._)("strong",null,(0,r.zw)(G.value),1),(0,t._)("span",H,(0,r.zw)((0,l.SU)(f.oS)(" Followers",G.value)),1)])),_:1},8,["to"])])]),(0,t._)("div",B,[(0,t._)("span",{class:(0,r.C_)(["profile-tab",{"gray-text":"tweets"!==y.tab}]),onClick:s[2]||(s[2]=a=>e.setTab("tweets"))},[(0,t._)("span",L,[(0,t.Uk)("Tweets "),(0,t.wy)((0,t._)("span",O,null,512),[[n.F8,"tweets"===y.tab]])])],2),(0,t._)("span",{class:(0,r.C_)(["profile-tab",{"gray-text":"tweets-and-replies"!==y.tab}]),onClick:s[3]||(s[3]=a=>e.setTab("tweets-and-replies"))},[(0,t._)("span",M,[(0,t.Uk)("Tweets & replies "),(0,t.wy)((0,t._)("span",Y,null,512),[[n.F8,"tweets-and-replies"===y.tab]])])],2),(0,t._)("span",{class:(0,r.C_)(["profile-tab",{"gray-text":"media"!==y.tab}]),onClick:s[4]||(s[4]=a=>e.setTab("media"))},[(0,t._)("span",J,[(0,t.Uk)("Media "),(0,t.wy)((0,t._)("span",E,null,512),[[n.F8,"media"===y.tab]])])],2),(0,t._)("span",{class:(0,r.C_)(["profile-tab",{"gray-text":"likes"!==y.tab}]),onClick:s[5]||(s[5]=a=>e.setTab("likes"))},[(0,t._)("span",R,[(0,t.Uk)("Likes "),(0,t.wy)((0,t._)("span",V,null,512),[[n.F8,"likes"===y.tab]])])],2)])])}}},A=s(89);const G=(0,A.Z)($,[["__scopeId","data-v-1d79ab14"]]);var K=G,N=s(5113),Q=s(3282),X=s(6425),ee=s(7925);const ae={class:"profile-wrapper"},se={key:3,class:"error gray-text"};var te={__name:"ProfileView",props:["username"],async setup(e){let a,s;const r=e,n=(0,ee.g)(),i=(0,m.U)(),u=(0,l.iH)(!0),c=(0,l.iH)(!0),o=(0,t.Fl)((()=>i.currentUser)),p=(0,l.iH)(i.currentId&&r.username===i.currentUser.username?o.value:([a,s]=(0,t.mv)((()=>i.getUserByUsername(r.username))),a=await a,s(),a)),w=(0,t.Fl)((()=>n.tweets)),f=(0,l.iH)("tweets"),y=(0,l.iH)(([a,s]=(0,t.mv)((()=>_())),a=await a,s(),a)),d=(0,l.iH)(g),v=e=>{f.value=e};async function g(e){await Promise.all(e.map((async e=>Object.assign(await n.getTweet(e.id),{retweetedBy:"retweet"===e.type?r.username:null,timestamp:e.timestamp,type:e.type,replyingToUser:e.replyingToUser?i.currentUser.username:null})))).then((e=>{u.value=!1,c.value=!1,n.tweets.push(...e)}))}async function b(e){await Promise.all(e.map((async e=>Object.assign(await n.getTweet(e.id),{user:await i.getUserProps(e.authorId),replyingToUser:await i.getUsername(e.replyingToUser)})))).then((e=>{u.value=!1,c.value=!1,n.tweets.push(...e)}))}async function k(e){await Promise.all(e.map((async e=>n.getTweet(e.id).then((async e=>Object.assign(e,{replyingToUser:await i.getUsername(e.replyingToUser)})))))).then((e=>{u.value=!1,c.value=!1,n.tweets.push(...e)}))}async function U(e){return Promise.all(e.map((async e=>n.getTweet(e).then((async e=>Object.assign(e,{replyingToUser:await i.getUsername(e.replyingToUser)})))))).then((e=>{u.value=!1,c.value=!1,n.tweets.push(...e)}))}async function _(){c.value=!0;const e=await i.getUserTweets(p.value.id);switch(f.value){case"tweets-and-replies":return n.sortByTimestamp(e.filter((e=>"status"===e.type||"reply"===e.type)));case"media":return n.sortByTimestamp(e.filter((e=>e.containsMedia)));case"likes":return p.value.likes;default:return n.sortByTimestamp(e.filter((e=>"status"===e.type||"retweet"===e.type||e.isSelfReply)))}}const h=async()=>{switch(n.setTweets([]),y.value=await _(),f.value){case"tweets-and-replies":b(y.value.slice(0,n.fetchLimit)),d.value=b;break;case"media":k(y.value.slice(0,n.fetchLimit)),d.value=k;break;case"likes":U(y.value.slice(0,n.fetchLimit)),d.value=U;break;default:g(y.value.slice(0,n.fetchLimit)),d.value=g}};return(0,t.wF)((()=>{n.setTweets([])})),(0,t.bv)((()=>{null!==p.value&&g(y.value.slice(0,n.fetchLimit))})),(0,t.YP)(f,(()=>{u.value=!0,h()})),(0,t.YP)(o,(()=>{r.username===i.currentUser.username&&(p.value=o.value)})),(0,t.YP)((()=>r.username),(async()=>{p.value=r.username===i.currentUser.username?o.value:await i.getUserByUsername(r.username),h()})),(e,a)=>((0,t.wg)(),(0,t.iD)("div",ae,[p.value?((0,t.wg)(),(0,t.j4)(K,{key:0,user:p.value,tab:f.value,setTab:v},null,8,["user","tab"])):(0,t.kq)("",!0),!u.value&&p.value?((0,t.wg)(),(0,t.j4)(N.Z,{key:1,tweets:(0,l.SU)(w),pending:u.value},null,8,["tweets","pending"])):(0,t.kq)("",!0),u.value&&null!==p.value?((0,t.wg)(),(0,t.j4)(Q.Z,{key:2})):(0,t.kq)("",!0),null===p.value?((0,t.wg)(),(0,t.iD)("div",se,"User not found.")):(0,t.kq)("",!0),u.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(X.Z,{key:4,isFetching:c.value,rawTweets:y.value.slice((0,l.SU)(n).fetchLimit),fetch:d.value},null,8,["isFetching","rawTweets","fetch"]))]))}};const le=te;var re=le}}]);
//# sourceMappingURL=965.cf631ed2.js.map